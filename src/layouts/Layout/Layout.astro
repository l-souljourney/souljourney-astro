---
const { title, keywords, description, pagecover, activeNav, Home, headings } = Astro.props;
// ç½‘ç«™é…ç½®
import SITE_INFO from "@/config";
const { GoogleAds, Theme } = SITE_INFO;
const { ad_Client, asideAD_Slot, articleAD_Slot } = GoogleAds;
// Head ä¾èµ–
import Head from "@/components/Head/Head.astro";
// é¡¶éƒ¨ Header
import Header from "@/components/Header/Header.astro";
// Asideç»„ä»¶
import Aside from "@/components/Aside/Aside.astro";
// åº•éƒ¨ Footer
import Footer from "@/components/Footer/Footer.astro";
// è¿”å›é¡¶éƒ¨
import BackTop from "@/components/BackTop/BackTop.astro";
// æ‰‹æœºç«¯ä¾§è¾¹æ 
import MobileSidebar from "@/components/MobileSidebar/MobileSidebar.astro";
// TOC ç»„ä»¶
import TOC from "@/components/TOC/TOC.astro";
// å…¨å±€åŸºç¡€æ ·å¼
// å…¨å±€åŸºç¡€æ ·å¼
import "@/styles/globals.css";
// Base.less has been migrated to globals.css and removed
import { ClientRouter } from 'astro:transitions';
import { getLangFromUrl } from '@/i18n/utils';
const lang = getLangFromUrl(Astro.url);
---

<html lang={lang}>
	<Head Title={title} Keywords={keywords} Description={description} PageCover={pagecover}>
		<!-- è°·æ­Œå¹¿å‘ŠJSåŠ è½½é¡¹ -->
		{ad_Client && (asideAD_Slot || articleAD_Slot) && <script is:inline async src={`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${ad_Client}`} crossorigin="anonymous" />}
		<!-- å½©æ——ğŸˆ - å·²ç¦ç”¨ -->
		<!-- <script is:inline src="/assets/js/vhCaiqi.js" defer></script> -->
		<!-- è®¾ç½®ä¸»é¢˜é¢œè‰² -->
		<!-- è®¾ç½®ä¸»é¢˜é¢œè‰² -->
		<!-- Theme variables are now statically defined in shadcn.css -->
	</Head>
    <ClientRouter />
	<body>
		<MobileSidebar />
		<Header activeNav={activeNav} />
		<main class="main flex flex-col items-center w-full h-max overflow-visible">
			<section class="main-inner shrink-0 relative flex flex-row-reverse gap-[0.66rem] max-md:flex-col w-full max-w-[var(--site-max-width)] h-max z-[1]" style="padding-top:calc(66px + 0.68rem)">
				{headings && headings.length > 0 && <TOC headings={headings} />}
				<section class="main-inner-content flex-1 pb-[0.88rem] w-full min-w-0 h-max overflow-hidden">
					<slot />
				</section>
				<Aside />
			</section>
			<BackTop />
		</main>
		<Footer />
		<script>
			import InitFn from "@/scripts/Init";
			// å…¨å±€åˆå§‹åŒ–
			InitFn();
		</script>
	</body>
</html>

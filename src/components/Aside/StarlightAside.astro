---
// Starlight-inspired Aside component (Astro-native)
// Provides same visual design without Starlight dependency
interface Props {
	type?: 'note' | 'tip' | 'caution' | 'danger';
	title?: string;
}

const { type = 'note', title } = Astro.props;

const icons = {
	note: 'ğŸ“˜',
	tip: 'ğŸ’¡',
	caution: 'âš ï¸',
	danger: 'ğŸš¨',
};

const colorClasses = {
	note: 'border-l-blue-500 bg-blue-500/10 dark:bg-blue-500/20',
	tip: 'border-l-green-500 bg-green-500/10 dark:bg-green-500/20',
	caution: 'border-l-yellow-500 bg-yellow-500/10 dark:bg-yellow-500/20',
	danger: 'border-l-red-500 bg-red-500/10 dark:bg-red-500/20',
};
---

<aside class={`
	starlight-aside 
	my-6 
	border-l-4 
	${colorClasses[type]}
	rounded-r-lg 
	p-4 
	transition-all 
	duration-200
`}>
	<div class="flex items-start gap-3">
		<span class="text-2xl shrink-0" aria-hidden="true">{icons[type]}</span>
		<div class="flex-1">
			{title && (
				<h4 class="text-lg font-semibold mb-2 mt-0">{title}</h4>
			)}
			<div class="prose prose-sm dark:prose-invert max-w-none">
				<slot />
			</div>
		</div>
	</div>
</aside>

<style>
	.starlight-aside {
		--aside-color: hsl(var(--muted-foreground));
	}

	.starlight-aside :global(p:first-child) {
		margin-top: 0;
	}

	.starlight-aside :global(p:last-child) {
		margin-bottom: 0;
	}
</style>
